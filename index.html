<!DOCTYPE html>
<html>
    <head>
        <title>Click Speed Test</title>
        <meta charset="utf-8">
        <style>
            body{
                background-color: #F9FBFD;
            }
            #Title{
                text-align: center;
                color: black;
                font-family: Sans-serif;
                font-size: 4vw;
                user-select: none;
                position: relative;
                margin: 5px;
            }    
            #Description{
                position: relative;
                text-align: center;
                color: black;
                font-family: serif;
                font-size: 1.7em;
                user-select: none;
                margin: 5px;
                width:50vw;
                left:25vw;
            }    
            #section{
                width: 100vw;
                position: relative;
            }
            #ClickBox{
                left:30vw;
                position: relative;
                width:40vw;
                min-width:300px;
            }
            #ClickText{
                text-align: center;
                position: absolute;
                width: 22vw;
                font-size:3.1vw;
                z-index: 2;
                left: calc(50% - 11vw);
                top: calc(50% - 1.55vw);
                color: black;
                font-family: Sans-serif;
                user-select: none;
                user-drag: none;
                -webkit-user-drag: none;
                -moz-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
                margin: 0;
            }
            #Clicker{
                position: relative;
                width: 90%;
                margin-left: 5%;
                user-drag: none;
                -webkit-user-drag: none;
                user-select: none;
                -moz-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
            }
            #Clicker:hover{
                filter: brightness(90%);
                cursor: pointer;
            }    
            #Clicker:active{
                filter: brightness(103%);
            }    
            #ClickText:hover{
                cursor: pointer;
            }    
            .Dark{
                filter: brightness(90%);
            }
            .stats{
                position: relative;
                width: 20vw;
                display: inline-block !important;
            }
            #CPSDesc, #HCPSDesc, #totalClicksDesc{
                position: relative;
                font-family: Sans-serif;
                display: inline-block;
            }    
        </style>
        <link rel="icon"
         href="/favicon.ico"type="image/x-icon">
    </head>
    <body>
        <div>
            <h1 id = "Title">Simple CPS Test</h1>
            <p id = "Description">Click on the box as fast as you can. Your highest CPS (Clicks Per Second), CPS, and total clicks will be displayed.</p>
        </div>
        <div id = "section">
            <div id = "ClickBox">
                <img id = "Clicker" src = "https://li21rich.github.io/cpstest/clicker.svg" alt = "Clicker">
                <h1 id = "ClickText">Click Here</h1>
            </div>
            <div class = "stats">
                <h1 id = "HCPSDesc">Highest CPS: <span id = "HCPS">0</span></h1>
                <h1 id = "CPSDesc">Current CPS: <span id = "CPS">0</span></h1>
                <h1 id = "totalClicksDesc">Total Clicks: <span id = "totalClicks">0</span></h1>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script>
    var numClicks = 0;
    var totalClicks = 0;
    var firstClick = false;
    $("#Clicker").on("click", function() {
        numClicks++;
        totalClicks++;
        //$("#LiveCPS").text(numClicks);
        $("#totalClicks").text(totalClicks);
        if(firstClick == false){
            firstClick = true;
            interval = setInterval(timerFunction, 1000);
        }
    });
    $("#Clicker").on("contextmenu",function(){
        numClicks++;
        totalClicks++;
        //$("#LiveCPS").text(numClicks);
        $("#totalClicks").text(totalClicks);
        if(firstClick == false){
            firstClick = true;
            interval = setInterval(timerFunction, 1000);
        } 
        return false;
    }); 
    $("#Clicker").mousedown(function() {
        $("#Clicker").addClass("Light");
        $("#ClickText").hide();
    });    
    $("#Clicker").mouseup(function() {
        $("#Clicker").removeClass("Light");
    });    
    $("#ClickText").hover(function() {
        $("#Clicker").toggleClass("Dark");
    });
    $("#ClickText").mousedown(function() {
        $("#ClickText").hide();
        numClicks++;
        totalClicks++;
        //$("#LiveCPS").text(numClicks);
        $("#totalClicks").text(totalClicks);
        if(firstClick == false){
            firstClick = true;
            interval = setInterval(timerFunction, 1000);
        } 
    });    
    var i = 0;
    var HighestCPS = -1;
    var timerFunction = function() {
        i++;
        if(numClicks > HighestCPS){
           HighestCPS = numClicks;
        }
        $("#CPS").text(numClicks);
        numClicks = 0;
        //$("#LiveCPS").text(numClicks);
        //$("#Timer").text(i);
        $("#HCPS").text(HighestCPS);
        /*if(i >= 10) {
           clearInterval(interval);
        }*/
    }
        </script>
    </body>
</html>

