<!DOCTYPE html>
<html>
    <head>
        <title>Clicks Per Second Test</title>
        <meta charset="utf-8">
        <style>
            #Clicker{
                position: relative;
                left:22vw;
                width: 38vw;
                user-drag: none;
                -webkit-user-drag: none;
                user-select: none;
                -moz-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
            }
            #Clicker:hover{
                filter: brightness(90%);
                cursor: pointer;
            }    
            #Clicker:active{
                filter: brightness(103%);
            }    
            #ClickText{
                text-align: center;
                position: relative;
                color: black;
                font-family: Sans-serif;
                font-size: 2.5em;
                user-select: none;
                user-drag: none;
                -webkit-user-drag: none;
                -moz-user-select: none;
                -webkit-user-select: none;
                -ms-user-select: none;
            }
            #ClickText:hover{
                cursor: pointer;
            }    
            #Title{
                text-align: center;
                color: black;
                font-family: Sans-serif;
                font-size: 4em;
                user-select: none;
                position: relative;
                margin: 0;
            }    
            #Description{
                position: relative;
                text-align: center;
                color: black;
                font-family: serif;
                font-size: 1.7em;
                user-select: none;
                margin: 0;
            }    
            .Dark{
                filter: brightness(90%);
            }
            /*#Timer{
                position: fixed;
                font-family: Sans-serif;
                font-size: 5em;
                top: 32%;
                right: 18%;
            }*/    
            /*#LiveCPSDesc{
                position: fixed;
                font-family: Sans-serif;
                top: 47%;
                right: 18%;
            }*/    
            .stats{
                position: relative;
            }
            #CPSDesc, #HCPSDesc, #TotalClicksDesc{
                position: relative;
                font-family: Sans-serif;
            }    
            #section{
                width: 100vw;
                position: relative;
            }
        </style>
        <link rel="icon"
         href="/favicon.ico"type="image/x-icon">
    </head>
    <body style="background-color:WhiteSmoke;">
        <div>
            <h1 id = "Title">CPS Test</h1>
            <p id = "Description">Click in the box below as fast as you can. Your highest CPS (Clicks Per Second), CPS, and total clicks will be displayed on the right.</p>
        </div>
        <div id = "section">
            <div>
                <img id = "Clicker" src = "https://li21rich.github.io/cpstest/clicker.svg" alt = "Clicker">
                <h1 id = "ClickText">Click Here</h1>
            </div>
            <div class = "stats">
                <h1 id = "HCPSDesc">HighestCPS: <span id = "HCPS">0</span></h1>
                <h1 id = "totalClicksDesc">Total: <span id = "totalClicks">0</span></h1>
                <h1 id = "CPSDesc">CPS: <span id = "CPS">0</span></h1>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script>
    var numClicks = 0;
    var totalClicks = 0;
    var firstClick = false;
    $("#Clicker").on("click", function() {
        numClicks++;
        totalClicks++;
        //$("#LiveCPS").text(numClicks);
        $("#totalClicks").text(totalClicks);
        if(firstClick == false){
            firstClick = true;
            interval = setInterval(timerFunction, 1000);
        }
    });
    $("#Clicker").on("contextmenu",function(){
        numClicks++;
        totalClicks++;
        //$("#LiveCPS").text(numClicks);
        $("#totalClicks").text(totalClicks);
        if(firstClick == false){
            firstClick = true;
            interval = setInterval(timerFunction, 1000);
        } 
        return false;
    }); 
    $("#Clicker").mousedown(function() {
        $("#Clicker").addClass("Light");
        $("#ClickText").hide();
    });    
    $("#Clicker").mouseup(function() {
        $("#Clicker").removeClass("Light");
    });    
    $("#ClickText").hover(function() {
        $("#Clicker").toggleClass("Dark");
    });
    $("#ClickText").mousedown(function() {
        $("#ClickText").hide();
        numClicks++;
        totalClicks++;
        //$("#LiveCPS").text(numClicks);
        $("#totalClicks").text(totalClicks);
        if(firstClick == false){
            firstClick = true;
            interval = setInterval(timerFunction, 1000);
        } 
    });    
    var i = 0;
    var HighestCPS = -1;
    var timerFunction = function() {
        i++;
        if(numClicks > HighestCPS){
           HighestCPS = numClicks;
        }
        $("#CPS").text(numClicks);
        numClicks = 0;
        //$("#LiveCPS").text(numClicks);
        //$("#Timer").text(i);
        $("#HCPS").text(HighestCPS);
        /*if(i >= 10) {
           clearInterval(interval);
        }*/
    }
        </script>
    </body>
</html>

